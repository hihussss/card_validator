(()=>{"use strict";let e=new class{constructor(){}validCard(e){let a=e.split("");a.reverse(),a=a.join("");const s=a.slice(0,1);a=a.slice(1);let d=a.split("");return d=d.map((e=>parseInt(e))),d=d.map(((e,a)=>a%2==0?2*e:e)),d=d.map((e=>e>9?e-9:e)),d=d.reduce(((e,a)=>e+a),0),10-d%10==parseInt(s)}firmaCard(e){return 16==e.length&&"4"==e.slice(0,1)?"Visa":16==e.length&&"34"==e.slice(0,2)||"37"==e.slice(0,2)?"AmericanExpress":e.length>=16&&e.length<=19&&("6011"==e.slice(0,4)||"65"==e.slice(0,2)||Number(e.slice(0,3))>=644&&Number(e.slice(0,3))<=649)?"Discover":e.length>=14&&e.length<=19&&("30"==e.slice(0,2)||"36"==e.slice(0,2)||"38"==e.slice(0,2)||"39"==e.slice(0,2))?"DinersClub":e.length>=16&&e.length<=19&&Number(e.slice(0,4))>=3528&&Number(e.slice(0,4))<=3589?"JCB":16==e.length&&(Number(e.slice(0,4))>=2221&&Number(e.slice(0,4))<=2720||Number(e.slice(0,2))>=51&&Number(e.slice(0,2))<=55)?"Mastercard":e.length>=16&&e.length<=19&&Number(e.slice(0,4))>=2200&&Number(e.slice(0,4))<=2204?"Mir":void 0}},a=new class{constructor(){this.board=document.body}addForm(){let e=document.createElement("div");e.classList.add("form"),this.board.appendChild(e);let a=document.createElement("div");a.classList.add("cards"),e.appendChild(a);for(let e=0;e<7;e++){let s=document.createElement("div");s.classList.add(`card${e}`),0==e?s.classList.add("AmericanExpress"):1==e?s.classList.add("Visa"):2==e?s.classList.add("Mastercard"):3==e?s.classList.add("DinersClub"):4==e?s.classList.add("JCB"):5==e?s.classList.add("Discover"):6==e&&s.classList.add("Mir"),s.classList.add("card"),a.appendChild(s)}let s=document.createElement("div");s.classList.add("valid"),e.appendChild(s);let d=document.createElement("input");d.classList.add("input"),d.setAttribute("type","text"),d.placeholder="Номер кредитной карты",s.appendChild(d);let t=document.createElement("button");t.classList.add("button"),t.textContent="Validate",s.appendChild(t)}addImage(e){let a=document.createElement("img");return a.classList.add("img"),a.src=`../src/image/${e}.png`,a}disabledCard(e){for(let a=0;a<7;a++){const s=document.querySelector(`.card${a}`);if(console.log(s.className),"remove"==e)s.classList.remove("card_disabled");else{if(s.classList.contains(e))continue;s.classList.add("card_disabled")}}}};a.addForm();const s=document.querySelector(".input"),d=document.querySelector(".button");s.addEventListener("input",(()=>{"Visa"==e.firmaCard(s.value)?a.disabledCard("Visa"):"AmericanExpress"==e.firmaCard(s.value)?a.disabledCard("AmericanExpress"):"Discover"==e.firmaCard(s.value)?a.disabledCard("Discover"):"DinersClub"==e.firmaCard(s.value)?a.disabledCard("DinersClub"):"JCB"==e.firmaCard(s.value)?a.disabledCard("JCB"):"Mastercard"==e.firmaCard(s.value)?a.disabledCard("Mastercard"):"Mir"==e.firmaCard(s.value)?a.disabledCard("Mir"):""==s.value&&a.disabledCard("remove")})),d.addEventListener("click",(a=>{a.preventDefault(),e.validCard(s.value)}))})();